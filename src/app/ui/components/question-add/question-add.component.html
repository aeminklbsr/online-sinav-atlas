<div class="modal-header">
  <h5 class="modal-title">Yeni Soru Ekle</h5>
</div>

<div class="progress" role="progressbar" aria-label="Example 5px high" aria-valuemin="0" aria-valuemax="100"
  [attr.aria-valuenow]="progressValue" style="height: 5px">
  <div class="progress-bar bg-primary" [style.width.%]="progressValue"></div>
</div>

<div class="modal-body">
  <div class="row gx-4 justify-content-center">
    <!-- Puan Dropdown -->
    <div class="mb-3 col-md-2 col-5 border p-3 rounded-4 shadow border-hover-effect mx-1">
      <label for="pointSelect" class="form-label">Puan</label>
      <select id="pointSelect" class="form-select" [(ngModel)]="questionData.points">
        <option *ngFor="let point of pointOptions" [value]="point">{{ point }}</option>
      </select>
    </div>

    <!-- Zorluk Dropdown -->
    <div class="mb-3 col-md-2 col-5 border p-3 rounded-4 shadow border-hover-effect mx-1 ">
      <label for="difficultySelect" class="form-label">Zorluk</label>
      <select id="difficultySelect" class="form-select" [(ngModel)]="questionData.difficulty">
        <option value="Kolay">Kolay</option>
        <option value="Orta">Orta</option>
        <option value="Zor">Zor</option>
      </select>
    </div>
    <!-- Soru Dropdown -->
    <div class="mb-3 col-md-3 col-5 border p-3 rounded-4 shadow border-hover-effect mx-1">
      <label for="questionTypeSelect" class="form-label">Soru Tipi</label>
      <select id="questionTypeSelect" class="form-select" [(ngModel)]="questionData.type"
        (change)="onQuestionTypeChange()">
        <option value="Çoktan Seçmeli">Çoktan Seçmeli</option>
        <option value="Yazılı">Yazılı</option>
      </select>
    </div>
    <!-- Şık Sayısı Dropdown (Sadece Çoktan Seçmeli seçildiğinde göster) -->
    <div class="mb-3 col-md-2 col-5 border p-3 rounded-4 shadow border-hover-effect mx-1">
      <label for="optionCountSelect" class="form-label">Şık Sayısı</label>
      <select id="optionCountSelect" class="form-select" [(ngModel)]="questionData.optionCount"
        (change)="generateOptions()" [disabled]="questionData.type !== 'Çoktan Seçmeli'">
        <option *ngFor="let count of optionCounts" [value]="count">{{ count }}</option>
      </select>
    </div>
<!-- Soru Aktif/Pasif -->
    <div class="mb-3 col-md-2 col-5 border p-3 rounded-4 shadow border-hover-effect mx-1">
      <label for="statusSelect" class="form-label">Soru Durumu</label>
      <select id="statusSelect" class="form-select" [(ngModel)]="questionData.status">
        <option value="Aktif">Aktif</option>
        <option value="Pasif">Pasif</option>
      </select>
    </div>
  </div>
  <!-- Soru Tipi Başlığı -->
  <div class="mb-3 border p-3 rounded-4 shadow border-hover-effect mx-1">
    <label for="questionTitle" class="form-label">Soru Başlığı</label>
    <input type="text" id="questionTitle" class="form-control" [(ngModel)]="questionData.title"
      placeholder="Soru başlığını girin">
  </div>


  <!-- Şıklar (Sadece Çoktan Seçmeli seçildiğinde göster) -->
  <div class="mb-3 border p-3 rounded-4 shadow border-hover-effect mx-1">
    <label class="form-label">Şıklar</label>
    <div *ngFor="let option of questionData.options; let i = index" class="d-flex align-items-center mb-2">
      <span class="me-2">{{ option.label }}</span>
      <input type="text" class="form-control me-2" [(ngModel)]="option.text" placeholder="Şık metni"
        [disabled]="questionData.type !== 'Çoktan Seçmeli'">
      <input type="checkbox" [(ngModel)]="option.correct" [disabled]="questionData.type !== 'Çoktan Seçmeli'">
    </div>
  </div>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="goBack()">Geri Dön</button>
  <button type="button" class="btn btn-danger" (click)="closeModal()">Sayfayı Kapat</button>
  <button type="button" class="btn btn-primary" (click)="saveQuestion()">Soru Ekle</button>
</div>